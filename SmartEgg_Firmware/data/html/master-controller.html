<!DOCTYPE HTML>

<html>
  <head>
    <title>Digital Egg Drop Page</title>
    <link rel="stylesheet" href="./font-awesome.min.css">
    <link rel="stylesheet" href="./stylesheet.css">
    <script src="./jquery.min.js"></script>
    <script src="./highstockchart.min.js"></script>
  </head>

  <body>
    <div id="main-content">
      <section class="hero is-primary">
        <div class="hero-body">
          <div class="container">
            <div class="debug-info">
              <p id="apname">AP Name: Unknown</p>
              <p id="ver">SmartEgg Version: Unknown</p>
              <p id="battlevel">Battery Level: Unknown</p>
              <p id="connstat">Status: Unknown</p>
            </div>
            
            <h1 class="title">
              Welcome to the egg drop page!
            </h1>
            <h2 class="subtitle">
              <p>How to record a drop:
                <ul>
                  <li>1. Create a drop</li>
                  <li>2. Selet the newly created drop tab </li>
                  <li>3. Select the "Start Recording" button to start recording a drop</li>
                  <li>4. WiFi will disconnect and the recording will automatically stop after 10 seconds</li>
                  <li>5. Reconnect to the WiFi and reload this page.
                  <li>6. The graph will automatically start downloading the drop
                    data. This may take a few seconds.
                  </li>

                </ul>
              </p>
            </h2>
              <p> 
                <div class="field has-addons">
                  <div class="control">
                    <input id="drop-name" class="input" type="text" placeholder="Drop Name" maxlength="12">
                  </div>
                  <div class="control">
                    <button class="button is-info" onclick="addNewDrop()">
                      Create a Drop!
                    </button>
                  </div>
                </div>
              </p>
          </div>
        </div>

        <!-- Drop history Tabs -->
        <div class="hero-foot">
          <nav class="tabs is-boxed is-fullwidth">
            <div class="container">
              <ul id="drop-history">
                <!-- drop name List elements here -->
              </ul>
            </div>
          </nav>
        </div>
      </section>

      <div id="drop-details-container" class="custom-container hide-by-default">
        <button id="delete-button" class="delete is-medium" onclick="openConfirmDeleteDialog()">Delete Drop</button>

        <div class="columns">
          <div class="column is-12">
            <nav class="level">
              <div class="level-item has-text-centered">
                <button id="record" type="button" class="button is-success" onclick="startRecord()">Start Recording</button>

                <div id="starting-div">
                  Starting up the egg... </br>
                  <button type="button" class="button is-success is-small is-loading" disabled="true">Setting up the egg...</button>
                </div>

                <div id="stop-div">
                  Recording... </br>
                  Reload this page after recording stops</br>
                  <button id="loading-btn" type="submit" disabled="true" class="button is-danger is-loading">Loading...</button> 
                  <!-- <button id="stop-btn" type="button" class="button is-danger" onclick="stopRecord()">Stop Recording</button> -->
                </div>
                
                <div id="loading-div">
                  Loading... </br>
                  <button id="loading-btn" type="submit" disabled="true" class="button is-info is-loading">Loading...</button> 
                </div>
                
                <div id="download-div">
                  <button id="download-btn" type="submit" class="button is-info" onclick="downloadCsv()">Download CSV</button> 
                </div>
              </div>
            </nav>
          </div>
        </div>

        <!-- Chart Columns -->
        <div class="columns">
          <div class="column is-12">
            <nav class="level">
              <p id="charting-container" class="level-item has-text-centered">
                <!-- Charting section -->    
              </p>
            </nav>
          </div>
        </div> <!-- End Chart's Row -->
    	</div> <!-- End drop-details-container -->

      <!-- Delete Confirmation Modal -->
      <div id="modal-area">
        <div id="my-modal" class="modal">
          <div class="modal-background"></div>
          <div class="modal-card">
            <header class="modal-card-head">
              <p class="modal-card-title">Confirm Delete</p>
              <button class="delete" aria-label="close" onClick="closeModal()"></button>
            </header>
            <section id="modal-card-content" class="modal-card-body">
              <!-- Content ... -->
            </section>
            <footer class="modal-card-foot">
              <div id="modal-delete-btn">
                <button id="confirm-delete" class="button is-danger" onClick="deleteDrop()">Delete Drop</button>
                <button id="close-delete-modal" class="button" onClick="closeModal()">Cancel</button>
              </div>
              <div id="modal-delete-btn-loading">
                <button id="confirm-delete-loading" class="button is-danger is-loading" onClick="deleteDrop()">Delete Drop</button>
                <button id="close-delete-modal-loading" class="button" disabled="true" onClick="closeModal()">Cancel</button>
              </div>
            </footer>
          </div>
        </div>
      </div> <!-- End delete confirmation modal -->
    </div>
  </body>
  <script src="./scripts.js"></script>
</html>